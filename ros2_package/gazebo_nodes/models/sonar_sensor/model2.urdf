<?xml version='1.0'?>
<robot xmlns:xacro="http://ros.org/wiki/xacro" name="laser_hokuyo">
<!--x=92.09, y=-3.12, z=0.55, r=-0.0, p= 0.0, Y=0.613 -->
<xacro:arg name="namespace" default=""/>
  
  <!--<link name="world"/>-->
  <gazebo>
    <static>true</static>
  </gazebo>

  
  <link name="$(arg namespace)base_link">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001" />
    </inertial>
    <collision name="collision">
      <geometry>
         <box size="0.01 0.01 0.01"/>
      </geometry>
    </collision>
    <visual name="visual">
        <geometry>
            <mesh filename="package://prius_description/meshes/hokuyo.dae"/>
        </geometry>
    </visual>
  </link>

  <!-- Add the fixed joint between "world" and "base_link"
  <joint name="fixed_joint" type="fixed">
    <parent link="world"/>
    <child link="$(arg namespace)base_link"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
  </joint>
  -->
  <link name="$(arg namespace)laser_link">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001" />
    </inertial>
  </link>
    
  <joint name="laser_joint" type="fixed">
    <parent link="$(arg namespace)base_link"/>
    <child link="$(arg namespace)laser_link"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
  </joint>
  



  <gazebo reference="$(arg namespace)laser_link">
    <sensor type="ray" name="front_right_middle_sonar_sensor">
      <ray>
        <scan>
          <horizontal>
            <samples>1</samples>
            <resolution>1</resolution>
            <min_angle>0</min_angle>
            <max_angle>0</max_angle>
          </horizontal>
          <vertical>
            <samples>1</samples>
            <min_angle>0</min_angle>
            <max_angle>0</max_angle>
          </vertical>
        </scan>
        <range>
          <min>0.2</min>
          <max>5</max>
          <resolution>0.1</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <update_rate>5</update_rate>
      <plugin name="sonar_link" filename="libgazebo_ros_ray_sensor.so">
        <ros>
          <argument>--ros-args --remap ~/out:=/$(arg namespace)range</argument>
        </ros>
        <output_type>sensor_msgs/Range</output_type>
      </plugin>
    </sensor>
  </gazebo>

</robot>
