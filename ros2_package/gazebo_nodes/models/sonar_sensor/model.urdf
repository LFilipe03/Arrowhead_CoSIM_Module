<?xml version='1.0'?>
<robot xmlns:xacro="http://ros.org/wiki/xacro" name="laser_hokuyo">
<!--x=92.09, y=-3.12, z=0.55, r=-0.0, p= 0.0, Y=0.613 -->
<xacro:arg name="namespace" default=""/>
  
  <!--<link name="world"/>-->
  <gazebo>
    <static>true</static>
  </gazebo>

  
  <link name="$(arg namespace)base_link">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001" />
    </inertial>
    <collision name="collision">
      <geometry>
         <box size="0.01 0.01 0.01"/>
      </geometry>
    </collision>
    <visual name="visual">
        <geometry>
            <mesh filename="package://prius_description/meshes/hokuyo.dae"/>
        </geometry>
    </visual>
  </link>

  <!-- Add the fixed joint between "world" and "base_link"
  <joint name="fixed_joint" type="fixed">
    <parent link="world"/>
    <child link="$(arg namespace)base_link"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
  </joint>
  -->
  <link name="$(arg namespace)laser_link">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001" />
    </inertial>
  </link>
    
  <joint name="laser_joint" type="fixed">
    <parent link="$(arg namespace)base_link"/>
    <child link="$(arg namespace)laser_link"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
  </joint>
  



  <gazebo reference="$(arg namespace)laser_link">
    <sensor type="ray" name="front_right_middle_sonar_sensor">
      <pose>0.0025 0 0 0 0 0</pose>
        <visualize>true</visualize>
        <update_rate>10</update_rate>
        <ray>
            <scan>
                <horizontal>
                    <samples>10</samples>
                    <resolution>1</resolution>
                    <!-- <min_angle>-0.174533</min_angle> -->
                    <!-- <max_angle>0.174533</max_angle> -->
                    <min_angle>-0.6545</min_angle>
                    <max_angle>0.6545</max_angle>
                </horizontal>
                <vertical>
                    <!--<samples>10</samples> -->
                    <samples>40</samples>
                    <resolution>1</resolution>
                    <!-- <min_angle>-0.130899</min_angle> -->
                    <!-- <max_angle>0.130899</max_angle> -->
                    <min_angle>-0.087267</min_angle>
                    <max_angle>0.087267</max_angle>
                </vertical>
            </scan>
            <range>
                <min>0.05</min>
                <max>4.5</max>
                <resolution>0.05</resolution>
            </range>
        </ray>
      <plugin name="sonar_link" filename="libgazebo_ros_ray_sensor.so">
        <ros>
          <argument>--ros-args --remap ~/out:=/$(arg namespace)range</argument>
        </ros>
        <output_type>sensor_msgs/Range</output_type>
        <gaussianNoise>0.000</gaussianNoise>
        <alwaysOn>true</alwaysOn>.
        <updateRate>10</updateRate>
        <radiation>infrared</radiation>
        <fov>0.20</fov>
        <visualize>true</visualize>
      </plugin>
    </sensor>
  </gazebo>

</robot>
